# プログラミング言語Go オンライン読書会#06
2020-11-07 (土)

https://gpl-reading.connpass.com/event/191145/

## なるほどコーナー
- 会社の資産を有効活用させる方法。
- 寝ている間に、テストをまわしつづける。

## 5.5 関数値
- ファーストクラス値: 言語として使えるもの。
- "%*s" は その幅と文字列の2つ与える。
- Admix -> Benjy (?) 人の名前...?
- 練習問題 5.9
    - 同じことをやってくれる Regexp パッケージの機能がある。
    
## 5.6 無名関数
- `r run + 1`: は、1文字ずらしている。
    - `HAL` は `IBM` を1文字ずらしている。
- 無名関数を再帰で利用するためには、最初に変数宣言が必要。
- 離散数学むずかしい。
- `seen := make(map[string]bool)`: これ、自分メモ (同じ項目を二度と見ないように)

### 5.6.1 ループ変数
- ループ変数のスコープの話。
- ループ変数は loop の最後の値を保持している。 
- たしかに PHP などは動きが違うね〜

## 5.7 可変長関数
- 5.15: 引数なしの場合の max と min は難しいね。panic を許す？

## 5.8 遅延関数呼び出し
defer の話。
- よく使う:
  - ファイル Close
  - ミューテックス
- よく忘れてハマる:
  - `defer trace("bigSløwOperation")()`

## 5.9 パニック
- Must からはじまるような関数は、エラー時に panic になる決まり。

## 6.1 メソッド宣言
- レシーバという呼び方は、いわゆる Smalltalk などの遺産。

## 6.2 ポインタレシーバを持つメソッド
```
pptr.Distance(q)
(*pptr).Distance(q)
```

いずれかが成り立つ。
1. レシーバ引数がレシーバパラメータと同じ型
```
Point{1, 2}.Distance(q)
pptr.ScaleBy(2)
```
2. レシーバ引数が型 T の変数で、レシーバパラメータが型 *T
```
p.ScaleBy(2)
```
3. レシーバ引数の型が *T であり、レシーバパラメータが型 T
```
pptr.Distance(q)
```

nil レシーバは空マップのようなふるまいをする。
```
func (v Values) Add(key, value string) {
    v[key] = append(v[key], value)
}
```

